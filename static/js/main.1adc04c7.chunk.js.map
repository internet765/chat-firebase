{"version":3,"sources":["service/firebase.js","components/Chat.jsx","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","getMessages","cb","database","ref","on","snapshot","val","sendMessage","value","newKey","child","push","key","set","this","fire","Chat","useState","setValue","messages","setMessages","firestore","useEffect","e","target","classList","contains","text","className","length","Object","entries","reverse","map","onKeyPress","onChange","type","minLength","maxLength","placeholder","onClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0QAGAA,IAASC,cAAc,CACnBC,OAAQ,0CACRC,WAAY,sCACZC,YAAa,6EACbC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,cACnBC,MAAO,6C,IAqBMC,EAjBb,aAAe,IAAD,gCAKdC,YAAc,SAACC,GACZ,EAAKC,SAASC,IAAI,YAAYC,GAAG,SAAS,SAACC,GAC3CJ,EAAGI,EAASC,WAPD,KAWdC,YAAc,SAACC,GACb,IAAMC,EAAS,EAAKP,SAASC,MAAMO,MAAM,YAAYC,OAAOC,IAC5D,EAAKV,SAASC,IAAI,YAAcM,GAAQI,IAAIL,IAZ5CM,KAAKC,KAAOzB,IACZwB,KAAKZ,SAAWY,KAAKC,KAAKb,Y,eCiCjBc,EA7CF,WAEX,MAA0BC,mBAAS,IAAnC,mBAAOT,EAAP,KAAcU,EAAd,KACA,EAAgCD,mBAAS,IAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KAEMC,EAAY,IAAItB,EAEtBuB,qBAAU,WACRD,EAAUrB,aAAY,SAACmB,GACrBC,EAAYD,QAEb,IAEH,IAAMZ,EAAc,SAACgB,GAEL,KAAVf,IAIU,UAAVe,EAAEX,KAAmBW,EAAEC,OAAOC,UAAUC,SAAS,mBACnDL,EAAUd,YAAY,CAAEoB,KAAMnB,IAC9BU,EAAS,MAIb,OACE,sBAAKU,UAAU,OAAf,UACE,qBAAKA,UAAU,eAAf,SACE,oBAAIA,UAAU,cAAd,6BAEF,qBAAKA,UAAU,aAAf,SACuB,IAApBT,EAASU,OAAe,oBAAID,UAAU,kBAAd,wBAAkDE,OAAOC,QAAQZ,GAAUa,UAAUC,KAAI,mCAAErB,EAAF,KAASe,EAAT,KAASA,KAAT,OAChH,qBAAeC,UAAU,0BAAzB,SACE,mBAAGA,UAAU,qBAAb,SAAmCD,KAD3Bf,QAKd,sBAAKgB,UAAU,eAAf,UACE,uBAAOA,UAAU,cAAcM,WAAY3B,EAAaC,MAAOA,EAAO2B,SAAU,SAAAZ,GAAC,OAAIL,EAASK,EAAEC,OAAOhB,QAAQ4B,KAAK,OAAOC,UAAU,IAAIC,UAAU,MAAMC,YAAY,qBACrK,wBAAQH,KAAK,SAASI,QAASjC,EAAaqB,UAAU,eAAtD,yBChCOa,MARf,WACE,OACE,qBAAKb,UAAU,MAAf,SACE,cAAC,EAAD,OCDNc,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1adc04c7.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\nfirebase.initializeApp({\r\n    apiKey: \"AIzaSyC0Kj9NvzT694iRj_fUMNYbwI4-_DAKWF0\",\r\n    authDomain: \"chat-firebase-b6bae.firebaseapp.com\",\r\n    databaseURL: \"https://chat-firebase-b6bae-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"chat-firebase-b6bae\",\r\n    storageBucket: \"chat-firebase-b6bae.appspot.com\",\r\n    messagingSenderId: \"35517323646\",\r\n    appId: \"1:35517323646:web:81402a93524eb21dbafb2f\"\r\n});\r\n\r\nclass Firebase {\r\n    constructor() {\r\n      this.fire = firebase\r\n      this.database = this.fire.database();\r\n    }\r\n  \r\n    getMessages = (cb) => {\r\n       this.database.ref('messages').on('value', (snapshot) => {\r\n       cb(snapshot.val())\r\n      });\r\n    }\r\n  \r\n    sendMessage = (value) => {\r\n      const newKey = this.database.ref().child('messages').push().key;\r\n      this.database.ref(\"messages/\" + newKey).set(value)\r\n    }\r\n  }\r\n  \r\n  export default Firebase;","import React, { useEffect, useState } from 'react';\r\nimport Firebase from '../service/firebase';\r\nimport './Chat.css';\r\n\r\nconst Chat = () => {\r\n\r\n  const [value, setValue] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  const firestore = new Firebase();\r\n\r\n  useEffect(() => {\r\n    firestore.getMessages((messages) => {\r\n      setMessages(messages);\r\n    });\r\n  }, [])\r\n\r\n  const sendMessage = (e) => {\r\n\r\n    if (value === '') {\r\n      return\r\n    }\r\n\r\n    if (e.key === 'Enter' || e.target.classList.contains('chat__button')) {\r\n      firestore.sendMessage({ text: value })\r\n      setValue('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='chat'>\r\n      <div className='chat__header'>\r\n        <h3 className='chat__title'>Chat-firebase</h3>\r\n      </div>\r\n      <div className='chat__main'>\r\n        {messages.length === 0 ? <h3 className='chat__preloader'>Loading...</h3> : Object.entries(messages).reverse().map(([key, { text }]) =>\r\n          <div key={key} className='chat__message-container'>\r\n            <p className='chat__message-text'>{text}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className='chat__footer'>\r\n        <input className='chat__input' onKeyPress={sendMessage} value={value} onChange={e => setValue(e.target.value)} type='text' minLength='1' maxLength='200' placeholder='Write message...' />\r\n        <button type='submit' onClick={sendMessage} className='chat__button'>Send</button>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Chat;\r\n","import './App.css';\nimport Chat from './components/Chat'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Chat/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}